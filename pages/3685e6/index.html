<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3中状态管理pinia学习 | Mr.Fa&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/img/favicon2.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4cd746698b2a13cb0c902d7ba1b5b57f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-98291551-1"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98291551-1');
</script>
    <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1725717718088510" crossorigin="anonymous"></script>
    <meta name="description" content="无善无恶心之体，有善有恶意之动，知善知恶是良知，为善去恶是格物。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github,markdown">
    <meta name="google-site-verification" content="JfM7Cg2a2jlGXV2PfkH7sIRWZmcTa1aDCOHMaQH2UuE">
    <meta name="baidu-site-verification" content="code-OBocxvg8ja">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.5833552d.css" as="style"><link rel="preload" href="/assets/js/app.48fd9870.js" as="script"><link rel="preload" href="/assets/js/2.f277449b.js" as="script"><link rel="preload" href="/assets/js/276.c4391c38.js" as="script"><link rel="preload" href="/assets/js/4.c1a5692b.js" as="script"><link rel="preload" href="/assets/js/8.3b904238.js" as="script"><link rel="preload" href="/assets/js/14.28d7c741.js" as="script"><link rel="prefetch" href="/assets/js/10.0e759f82.js"><link rel="prefetch" href="/assets/js/100.7f3248cd.js"><link rel="prefetch" href="/assets/js/101.684ce486.js"><link rel="prefetch" href="/assets/js/102.5ade2710.js"><link rel="prefetch" href="/assets/js/103.a80e60fd.js"><link rel="prefetch" href="/assets/js/104.abe5ab09.js"><link rel="prefetch" href="/assets/js/105.669e6ef9.js"><link rel="prefetch" href="/assets/js/106.114892ee.js"><link rel="prefetch" href="/assets/js/107.24a6b8bf.js"><link rel="prefetch" href="/assets/js/108.5eab7bb1.js"><link rel="prefetch" href="/assets/js/109.47159546.js"><link rel="prefetch" href="/assets/js/11.52c6c9d4.js"><link rel="prefetch" href="/assets/js/110.721a871b.js"><link rel="prefetch" href="/assets/js/111.1d290c04.js"><link rel="prefetch" href="/assets/js/112.18beeb32.js"><link rel="prefetch" href="/assets/js/113.f506e741.js"><link rel="prefetch" href="/assets/js/114.435ed255.js"><link rel="prefetch" href="/assets/js/115.9d1fe8ff.js"><link rel="prefetch" href="/assets/js/116.c0ebb3cc.js"><link rel="prefetch" href="/assets/js/117.926ba433.js"><link rel="prefetch" href="/assets/js/118.0806d7f1.js"><link rel="prefetch" href="/assets/js/119.a354e8ee.js"><link rel="prefetch" href="/assets/js/12.638c2372.js"><link rel="prefetch" href="/assets/js/120.59d9502a.js"><link rel="prefetch" href="/assets/js/121.4b6dc715.js"><link rel="prefetch" href="/assets/js/122.e2f1c875.js"><link rel="prefetch" href="/assets/js/123.e8442683.js"><link rel="prefetch" href="/assets/js/124.601a46d1.js"><link rel="prefetch" href="/assets/js/125.d2d856a2.js"><link rel="prefetch" href="/assets/js/126.6253f8ab.js"><link rel="prefetch" href="/assets/js/127.8cb39ebc.js"><link rel="prefetch" href="/assets/js/128.3d688916.js"><link rel="prefetch" href="/assets/js/129.073e6622.js"><link rel="prefetch" href="/assets/js/13.499d98b2.js"><link rel="prefetch" href="/assets/js/130.c7f3a9ee.js"><link rel="prefetch" href="/assets/js/131.60d62f9d.js"><link rel="prefetch" href="/assets/js/132.e77e8e51.js"><link rel="prefetch" href="/assets/js/133.21fb5921.js"><link rel="prefetch" href="/assets/js/134.3c88d1bf.js"><link rel="prefetch" href="/assets/js/135.1ed06824.js"><link rel="prefetch" href="/assets/js/136.42abd773.js"><link rel="prefetch" href="/assets/js/137.dec9872a.js"><link rel="prefetch" href="/assets/js/138.956c6465.js"><link rel="prefetch" href="/assets/js/139.c050ac87.js"><link rel="prefetch" href="/assets/js/140.8311bf84.js"><link rel="prefetch" href="/assets/js/141.0704a43f.js"><link rel="prefetch" href="/assets/js/142.a0373da3.js"><link rel="prefetch" href="/assets/js/143.5c0dcd5a.js"><link rel="prefetch" href="/assets/js/144.7c6f8719.js"><link rel="prefetch" href="/assets/js/145.1a8fe2a6.js"><link rel="prefetch" href="/assets/js/146.31feadbd.js"><link rel="prefetch" href="/assets/js/147.9835eb4b.js"><link rel="prefetch" href="/assets/js/148.9233830b.js"><link rel="prefetch" href="/assets/js/149.ff3677f9.js"><link rel="prefetch" href="/assets/js/15.adb5b63f.js"><link rel="prefetch" href="/assets/js/150.68d3824c.js"><link rel="prefetch" href="/assets/js/151.121b4995.js"><link rel="prefetch" href="/assets/js/152.636039e3.js"><link rel="prefetch" href="/assets/js/153.9d3aec3b.js"><link rel="prefetch" href="/assets/js/154.f3787f44.js"><link rel="prefetch" href="/assets/js/155.49c1fc7b.js"><link rel="prefetch" href="/assets/js/156.da8625ee.js"><link rel="prefetch" href="/assets/js/157.bc22342c.js"><link rel="prefetch" href="/assets/js/158.8b930053.js"><link rel="prefetch" href="/assets/js/159.65b797b1.js"><link rel="prefetch" href="/assets/js/16.014f462f.js"><link rel="prefetch" href="/assets/js/160.9d960af0.js"><link rel="prefetch" href="/assets/js/161.6eb399a9.js"><link rel="prefetch" href="/assets/js/162.2a63d80f.js"><link rel="prefetch" href="/assets/js/163.60f756e2.js"><link rel="prefetch" href="/assets/js/164.2dbc802c.js"><link rel="prefetch" href="/assets/js/165.ed939e92.js"><link rel="prefetch" href="/assets/js/166.808ceabb.js"><link rel="prefetch" href="/assets/js/167.081accbe.js"><link rel="prefetch" href="/assets/js/168.436a363e.js"><link rel="prefetch" href="/assets/js/169.880ef532.js"><link rel="prefetch" href="/assets/js/17.9722c09a.js"><link rel="prefetch" href="/assets/js/170.41cfa6cb.js"><link rel="prefetch" href="/assets/js/171.769daee2.js"><link rel="prefetch" href="/assets/js/172.3a086449.js"><link rel="prefetch" href="/assets/js/173.4acfeae7.js"><link rel="prefetch" href="/assets/js/174.679919fa.js"><link rel="prefetch" href="/assets/js/175.f55ea1e2.js"><link rel="prefetch" href="/assets/js/176.e3d0d4b8.js"><link rel="prefetch" href="/assets/js/177.dcd2b45d.js"><link rel="prefetch" href="/assets/js/178.da4537be.js"><link rel="prefetch" href="/assets/js/179.e43a2a4e.js"><link rel="prefetch" href="/assets/js/18.64e5c839.js"><link rel="prefetch" href="/assets/js/180.829a9f81.js"><link rel="prefetch" href="/assets/js/181.347f2e0b.js"><link rel="prefetch" href="/assets/js/182.e59cc34c.js"><link rel="prefetch" href="/assets/js/183.0cbf281c.js"><link rel="prefetch" href="/assets/js/184.b046e20e.js"><link rel="prefetch" href="/assets/js/185.b3fcbd95.js"><link rel="prefetch" href="/assets/js/186.fdff8fbe.js"><link rel="prefetch" href="/assets/js/187.cd80c1ce.js"><link rel="prefetch" href="/assets/js/188.eeb8fece.js"><link rel="prefetch" href="/assets/js/189.79ca4c80.js"><link rel="prefetch" href="/assets/js/19.02f8db5e.js"><link rel="prefetch" href="/assets/js/190.c54f505c.js"><link rel="prefetch" href="/assets/js/191.c1622fe4.js"><link rel="prefetch" href="/assets/js/192.61cf74d0.js"><link rel="prefetch" href="/assets/js/193.cea9c0ac.js"><link rel="prefetch" href="/assets/js/194.a5da077b.js"><link rel="prefetch" href="/assets/js/195.87b1f110.js"><link rel="prefetch" href="/assets/js/196.b948220f.js"><link rel="prefetch" href="/assets/js/197.8500480b.js"><link rel="prefetch" href="/assets/js/198.979473c7.js"><link rel="prefetch" href="/assets/js/199.aa730140.js"><link rel="prefetch" href="/assets/js/20.5c251b42.js"><link rel="prefetch" href="/assets/js/200.77c3317b.js"><link rel="prefetch" href="/assets/js/201.c5e0a633.js"><link rel="prefetch" href="/assets/js/202.a60a074c.js"><link rel="prefetch" href="/assets/js/203.5fb41b85.js"><link rel="prefetch" href="/assets/js/204.6cfa35b2.js"><link rel="prefetch" href="/assets/js/205.88bf56e9.js"><link rel="prefetch" href="/assets/js/206.2c8e0e39.js"><link rel="prefetch" href="/assets/js/207.a32f14af.js"><link rel="prefetch" href="/assets/js/208.f80204ea.js"><link rel="prefetch" href="/assets/js/209.40c62060.js"><link rel="prefetch" href="/assets/js/21.38ce7b46.js"><link rel="prefetch" href="/assets/js/210.6498117b.js"><link rel="prefetch" href="/assets/js/211.997047cf.js"><link rel="prefetch" href="/assets/js/212.93b237eb.js"><link rel="prefetch" href="/assets/js/213.d3b48a09.js"><link rel="prefetch" href="/assets/js/214.c5a82720.js"><link rel="prefetch" href="/assets/js/215.f1108be7.js"><link rel="prefetch" href="/assets/js/216.a304d2a6.js"><link rel="prefetch" href="/assets/js/217.2c6d7e52.js"><link rel="prefetch" href="/assets/js/218.c6938279.js"><link rel="prefetch" href="/assets/js/219.40eb416a.js"><link rel="prefetch" href="/assets/js/22.0be2c8db.js"><link rel="prefetch" href="/assets/js/220.304f0cd1.js"><link rel="prefetch" href="/assets/js/221.e4672fa5.js"><link rel="prefetch" href="/assets/js/222.acb0f583.js"><link rel="prefetch" href="/assets/js/223.82c32557.js"><link rel="prefetch" href="/assets/js/224.7d577095.js"><link rel="prefetch" href="/assets/js/225.526cb8da.js"><link rel="prefetch" href="/assets/js/226.536d7d72.js"><link rel="prefetch" href="/assets/js/227.4c3850c0.js"><link rel="prefetch" href="/assets/js/228.a7326bd6.js"><link rel="prefetch" href="/assets/js/229.b2fc97e0.js"><link rel="prefetch" href="/assets/js/23.e938f5dc.js"><link rel="prefetch" href="/assets/js/230.adc960be.js"><link rel="prefetch" href="/assets/js/231.f6240ccc.js"><link rel="prefetch" href="/assets/js/232.b00eb098.js"><link rel="prefetch" href="/assets/js/233.86e420eb.js"><link rel="prefetch" href="/assets/js/234.d03fb3a6.js"><link rel="prefetch" href="/assets/js/235.fc034639.js"><link rel="prefetch" href="/assets/js/236.635081eb.js"><link rel="prefetch" href="/assets/js/237.ed99a68f.js"><link rel="prefetch" href="/assets/js/238.ae250bd5.js"><link rel="prefetch" href="/assets/js/239.7bcf495d.js"><link rel="prefetch" href="/assets/js/24.55915b93.js"><link rel="prefetch" href="/assets/js/240.a6ac4c76.js"><link rel="prefetch" href="/assets/js/241.1ee3af2e.js"><link rel="prefetch" href="/assets/js/242.256af573.js"><link rel="prefetch" href="/assets/js/243.431a11a2.js"><link rel="prefetch" href="/assets/js/244.58c934f9.js"><link rel="prefetch" href="/assets/js/245.64b68f7e.js"><link rel="prefetch" href="/assets/js/246.2784567e.js"><link rel="prefetch" href="/assets/js/247.c930d2d1.js"><link rel="prefetch" href="/assets/js/248.62a76089.js"><link rel="prefetch" href="/assets/js/249.2f4aada5.js"><link rel="prefetch" href="/assets/js/25.5a29ccaa.js"><link rel="prefetch" href="/assets/js/250.e187b45f.js"><link rel="prefetch" href="/assets/js/251.f6cb3ca3.js"><link rel="prefetch" href="/assets/js/252.926e84e0.js"><link rel="prefetch" href="/assets/js/253.05d334f2.js"><link rel="prefetch" href="/assets/js/254.ec8c595f.js"><link rel="prefetch" href="/assets/js/255.654fa7d7.js"><link rel="prefetch" href="/assets/js/256.ab54a4eb.js"><link rel="prefetch" href="/assets/js/257.735f1043.js"><link rel="prefetch" href="/assets/js/258.638a819a.js"><link rel="prefetch" href="/assets/js/259.3e3f1f8d.js"><link rel="prefetch" href="/assets/js/26.5b61cb7f.js"><link rel="prefetch" href="/assets/js/260.0fa3d4ba.js"><link rel="prefetch" href="/assets/js/261.de7c7bcf.js"><link rel="prefetch" href="/assets/js/262.6f29107f.js"><link rel="prefetch" href="/assets/js/263.f36abb96.js"><link rel="prefetch" href="/assets/js/264.c5e4c2fc.js"><link rel="prefetch" href="/assets/js/265.c2a83dc4.js"><link rel="prefetch" href="/assets/js/266.8dcedf1c.js"><link rel="prefetch" href="/assets/js/267.08d1d4b7.js"><link rel="prefetch" href="/assets/js/268.4ecc418f.js"><link rel="prefetch" href="/assets/js/269.24c66f8c.js"><link rel="prefetch" href="/assets/js/27.e9deba12.js"><link rel="prefetch" href="/assets/js/270.dd57a5ea.js"><link rel="prefetch" href="/assets/js/271.3b80154c.js"><link rel="prefetch" href="/assets/js/272.42961d52.js"><link rel="prefetch" href="/assets/js/273.6d09dc6e.js"><link rel="prefetch" href="/assets/js/274.1ef2b4e3.js"><link rel="prefetch" href="/assets/js/275.ff4a5a74.js"><link rel="prefetch" href="/assets/js/277.da127476.js"><link rel="prefetch" href="/assets/js/278.4a3b2e1d.js"><link rel="prefetch" href="/assets/js/279.7f4dc5c4.js"><link rel="prefetch" href="/assets/js/28.4ad3c173.js"><link rel="prefetch" href="/assets/js/280.57a69928.js"><link rel="prefetch" href="/assets/js/29.f0ac568f.js"><link rel="prefetch" href="/assets/js/3.13adf3b7.js"><link rel="prefetch" href="/assets/js/30.8349310a.js"><link rel="prefetch" href="/assets/js/31.82c9f121.js"><link rel="prefetch" href="/assets/js/32.340f9ba6.js"><link rel="prefetch" href="/assets/js/33.19e2b723.js"><link rel="prefetch" href="/assets/js/34.2b294132.js"><link rel="prefetch" href="/assets/js/35.c5dc1d83.js"><link rel="prefetch" href="/assets/js/36.4b97c73c.js"><link rel="prefetch" href="/assets/js/37.70763a07.js"><link rel="prefetch" href="/assets/js/38.3b33ba08.js"><link rel="prefetch" href="/assets/js/39.c78e71e9.js"><link rel="prefetch" href="/assets/js/40.43865686.js"><link rel="prefetch" href="/assets/js/41.9ec38a63.js"><link rel="prefetch" href="/assets/js/42.0a52265e.js"><link rel="prefetch" href="/assets/js/43.f78ee122.js"><link rel="prefetch" href="/assets/js/44.6bc80c8e.js"><link rel="prefetch" href="/assets/js/45.b8617ce9.js"><link rel="prefetch" href="/assets/js/46.09e7e547.js"><link rel="prefetch" href="/assets/js/47.f56b019f.js"><link rel="prefetch" href="/assets/js/48.319af279.js"><link rel="prefetch" href="/assets/js/49.b3b4716e.js"><link rel="prefetch" href="/assets/js/5.70cc3c55.js"><link rel="prefetch" href="/assets/js/50.21368e6e.js"><link rel="prefetch" href="/assets/js/51.127ee780.js"><link rel="prefetch" href="/assets/js/52.dcfcf098.js"><link rel="prefetch" href="/assets/js/53.d2f52d2d.js"><link rel="prefetch" href="/assets/js/54.25bf7c9a.js"><link rel="prefetch" href="/assets/js/55.f0946706.js"><link rel="prefetch" href="/assets/js/56.eb1b9545.js"><link rel="prefetch" href="/assets/js/57.92196605.js"><link rel="prefetch" href="/assets/js/58.4c1c7596.js"><link rel="prefetch" href="/assets/js/59.c2076aa4.js"><link rel="prefetch" href="/assets/js/6.5fb247ed.js"><link rel="prefetch" href="/assets/js/60.b9c6657f.js"><link rel="prefetch" href="/assets/js/61.9f549f80.js"><link rel="prefetch" href="/assets/js/62.dd6afffe.js"><link rel="prefetch" href="/assets/js/63.8062355e.js"><link rel="prefetch" href="/assets/js/64.122cbdc5.js"><link rel="prefetch" href="/assets/js/65.ec7ba87e.js"><link rel="prefetch" href="/assets/js/66.16eb33ad.js"><link rel="prefetch" href="/assets/js/67.83d57537.js"><link rel="prefetch" href="/assets/js/68.d32e3748.js"><link rel="prefetch" href="/assets/js/69.aab1ed76.js"><link rel="prefetch" href="/assets/js/7.fd2d4284.js"><link rel="prefetch" href="/assets/js/70.3a5ee9b1.js"><link rel="prefetch" href="/assets/js/71.fa86670a.js"><link rel="prefetch" href="/assets/js/72.713d0354.js"><link rel="prefetch" href="/assets/js/73.573cbd77.js"><link rel="prefetch" href="/assets/js/74.6e6aed65.js"><link rel="prefetch" href="/assets/js/75.136bfe6d.js"><link rel="prefetch" href="/assets/js/76.2aed98f7.js"><link rel="prefetch" href="/assets/js/77.7c6b564e.js"><link rel="prefetch" href="/assets/js/78.56525fbf.js"><link rel="prefetch" href="/assets/js/79.ccc424ba.js"><link rel="prefetch" href="/assets/js/80.70d07a7c.js"><link rel="prefetch" href="/assets/js/81.48f66144.js"><link rel="prefetch" href="/assets/js/82.347f7f85.js"><link rel="prefetch" href="/assets/js/83.c91f5cc2.js"><link rel="prefetch" href="/assets/js/84.f37bea00.js"><link rel="prefetch" href="/assets/js/85.3bb5879d.js"><link rel="prefetch" href="/assets/js/86.379ed252.js"><link rel="prefetch" href="/assets/js/87.cf68c232.js"><link rel="prefetch" href="/assets/js/88.d752103c.js"><link rel="prefetch" href="/assets/js/89.a9e7b746.js"><link rel="prefetch" href="/assets/js/9.7e2c8032.js"><link rel="prefetch" href="/assets/js/90.9f5f15f0.js"><link rel="prefetch" href="/assets/js/91.396b2070.js"><link rel="prefetch" href="/assets/js/92.0d1dc663.js"><link rel="prefetch" href="/assets/js/93.cd8488aa.js"><link rel="prefetch" href="/assets/js/94.25038451.js"><link rel="prefetch" href="/assets/js/95.9da8a571.js"><link rel="prefetch" href="/assets/js/96.2804ee04.js"><link rel="prefetch" href="/assets/js/97.1e2b80a3.js"><link rel="prefetch" href="/assets/js/98.90f9a72c.js"><link rel="prefetch" href="/assets/js/99.8f797bc8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5833552d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/surfing.png" alt="Mr.Fa's blog" class="logo"> <span class="site-name can-hide">Mr.Fa's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-item"><!----> <a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-item"><!----> <a href="/pages/51afd6/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">收藏册</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/methods/" class="nav-link">技巧方法</a></li><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">时间线</a></li><li class="dropdown-item"><!----> <a href="/more/friends/" class="nav-link">友链</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/hongzhangfa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>二十九画生</h3> <span>失之东隅，收之桑榆</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-item"><!----> <a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-item"><!----> <a href="/pages/51afd6/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">收藏册</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/methods/" class="nav-link">技巧方法</a></li><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">时间线</a></li><li class="dropdown-item"><!----> <a href="/more/friends/" class="nav-link">友链</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/hongzhangfa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>组件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>过渡&amp;动画</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>可复用性&amp;组合</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>规模化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vuex</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Pinia</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/3685e6/" aria-current="page" class="active sidebar-link">Vue3中状态管理pinia学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/3685e6/#_1-pinia简介" class="sidebar-link">1.Pinia简介</a></li><li class="sidebar-sub-header level2"><a href="/pages/3685e6/#_2-pinia开发环境搭建" class="sidebar-link">2.Pinia开发环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#vue3环境安装" class="sidebar-link">Vue3环境安装</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#pinia的安装" class="sidebar-link">Pinia的安装</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#在main-ts中引入pinia" class="sidebar-link">在main.ts中引入Pinia</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#创建store状态管理库" class="sidebar-link">创建store状态管理库</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#在vue3组件中读取store数据" class="sidebar-link">在Vue3组件中读取store数据</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#实现状态数据的改变" class="sidebar-link">实现状态数据的改变</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#状态数据读取时注意事项" class="sidebar-link">状态数据读取时注意事项</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#通过对象读取方法" class="sidebar-link">通过对象读取方法</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#通过-patch修改多条数据" class="sidebar-link">通过$patch修改多条数据</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#直接在acitons中写好逻辑-再调用actions" class="sidebar-link">直接在acitons中写好逻辑，再调用actions</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#getters使用" class="sidebar-link">getters使用</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#getters编写时this使用" class="sidebar-link">getters编写时this使用</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#getters缓存特性" class="sidebar-link">getters缓存特性</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#新建一个store容器" class="sidebar-link">新建一个store容器</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#在另一个容器中引入" class="sidebar-link">在另一个容器中引入</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#vue-devtools安装" class="sidebar-link">vue-devtools安装</a></li><li class="sidebar-sub-header level3"><a href="/pages/3685e6/#vue-devtools对pinia的调试" class="sidebar-link">vue-devtools对Pinia的调试</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/note/vue/#《Vue》笔记" data-v-06225672>《Vue》笔记</a></li><li data-v-06225672><a href="/note/vue/#Pinia" data-v-06225672>Pinia</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://hongzhangfa.github.io/" target="_blank" title="作者" class="beLink" data-v-06225672>Mr.Fa</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-04-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Vue3中状态管理pinia学习<span class="title-tag">原创</span></h1> <!----> <div class="theme-vdoing-content content__default"><p>vue3成为默认版本，pinia状态管理是vue官方人员出的，比vuex更加方便。它有以下几个优点：</p> <ul><li>同时支持vue2和vue3</li> <li>状态管理库的简化，只有state、getters、actions</li> <li>不需要嵌套模块，符合vue3的Composition api</li> <li>typescript支持</li> <li>代码更加简洁</li></ul> <p>我跟着一块了解了下pinia状态管理的环境搭建、store创建、状态数据改变方式以及注意事项、还包括getters使用以及store的相互调用方面内容。</p> <h1 id="一、pinia简介和开发环境搭建"><a href="#一、pinia简介和开发环境搭建" class="header-anchor">#</a> 一、Pinia简介和开发环境搭建</h1> <h2 id="_1-pinia简介"><a href="#_1-pinia简介" class="header-anchor">#</a> 1.Pinia简介</h2> <p>Pinia是Vue生态里Vuex的代替者，一个全新Vue的状态管理库。Pinia的优势就是：更加简洁的语法，完美支持Vue3的Composition api 和对 TypeScript 的完美支持。</p> <h2 id="_2-pinia开发环境搭建"><a href="#_2-pinia开发环境搭建" class="header-anchor">#</a> 2.Pinia开发环境搭建</h2> <h3 id="vue3环境安装"><a href="#vue3环境安装" class="header-anchor">#</a> Vue3环境安装</h3> <p>Pinia是Vue的状态管理库，所以首先需要创建Vue的项目环境，我采用的是Vite来搭建Vue3环境。（也可以用Webpack来搭建，哪个熟悉用哪个）</p> <p>①初始化vite<code>npm init vite@latest</code></p> <p>②输入项目名称<code>? Project name: » vite-project</code>,这里我起名vite-pinia-demo</p> <p>③选择项目框架，这里选择vue或者vue-ts,我这里选择vue-ts</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>? Select a framework: » - Use arrow-keys. Return to submit.
&gt;   vanilla
    vue
    react
    preact
    lit
    svelte
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>④现在项目已经初始化完成，按照下面提示顺序来跑通Vue3项目</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>Done. Now run:
cd vite-pinia-demo
  npm install
  npm run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>⑤直到出现下列代码，复制网址能够正常访问页面说明Vue3项目环境初步搭建好了。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>vite v2.8.3 dev server running at:

  &gt; Local: http://localhost:3000/
  &gt; Network: use `--host` to expose

  ready in 392ms.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="pinia的安装"><a href="#pinia的安装" class="header-anchor">#</a> Pinia的安装</h3> <p>Vue3环境搭建好了后，开始安装Pinia状态管理库。</p> <p>安装pinia：<code>npm install pinia</code></p> <p>如何确认安装成功：在项目文件夹根目录中package.json文件中确认依赖项中是否存在pinia。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&quot;dependencies&quot;: {
    &quot;pinia&quot;: &quot;^2.0.11&quot;,
    &quot;vue&quot;: &quot;^3.2.25&quot;
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="二、用pinia的方式创建一个store"><a href="#二、用pinia的方式创建一个store" class="header-anchor">#</a> 二、用Pinia的方式创建一个store</h1> <h3 id="在main-ts中引入pinia"><a href="#在main-ts中引入pinia" class="header-anchor">#</a> 在main.ts中引入Pinia</h3> <p>在/src/main.ts中需要引入Pinia，因为main.ts是Vue3项目中根实例引入的文件</p> <p>首先引入Pinia，<code>import {createPinia} from 'pinia'</code></p> <p>然后创建pinia实例，<code>const pinia = createPinia()</code></p> <p>最后将pinia实例挂载到Vue的根实例上</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>const app = createApp(App)

//挂载到 Vue 根实例上
app.use(pinia)
app.mount('#app')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="创建store状态管理库"><a href="#创建store状态管理库" class="header-anchor">#</a> 创建store状态管理库</h3> <p>首先在/src目录下，新建状态管理store文件夹，并在该文件夹下创建一个index.ts状态管理文件；</p> <p>在状态管理index.ts文件中：</p> <ol><li>定义状态容器</li> <li>修改容器中的state</li> <li>容器中getters和actions的使用</li></ol> <p>书写格式如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import { defineStore } from &quot;pinia&quot;

export const myStore = defineStore('myStore',{
    state:()=&gt;{
        return{}
    },
    getters:{},
    actions:{}
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>defineStore()方法接收两个参数：</p> <p>第一个参数是容器的名字，需要保证是唯一的；</p> <p>第二个参数是要配置的对象,包括以下三个属性：</p> <ul><li>state：存储全局状态；</li> <li>getters：类似于Vue中的计算属性，用来计算状态的变化，具有缓存的功能</li> <li>actions：针对state状态数据来编写复杂的业务逻辑代码</li></ul> <h3 id="在vue3组件中读取store数据"><a href="#在vue3组件中读取store数据" class="header-anchor">#</a> 在Vue3组件中读取store数据</h3> <p>首先在/src/store/index.ts的state中添加数据：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>state:()=&gt;{
        return{
            data:'Hello Pinia!'
        }
    },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后在/src/components/下新建一个组件piniaTest.vue：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{store.data}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> myStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/index.'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">myStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>再将piniaTest.vue组件引入到App.vue中：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> piniaTestVue <span class="token keyword">from</span> <span class="token string">'./components/piniaTest.vue'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>piniaTestVue</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>重新在终端输入<code>npm run dev</code>运行，打开网页可以看到状态管理库中存储的数据“Hello   Pinia!&quot;，则完成了Pinia状态管理库的构建并可以在其他组件中使用状态管理数据！</p> <h1 id="三、pinia改变状态数据和注意方式"><a href="#三、pinia改变状态数据和注意方式" class="header-anchor">#</a> 三、Pinia改变状态数据和注意方式</h1> <h3 id="实现状态数据的改变"><a href="#实现状态数据的改变" class="header-anchor">#</a> 实现状态数据的改变</h3> <p>上一节中实现了对于状态数据的读取，步骤是：首先引入状态管理库，然后实例化，再通过对象引用的方式读取状态数据。这一节再来验证一下状态数据的改变，步骤和读取类型，只不过是加入一个方法来对状态数据进行改变，来看状态数据是否可以响应式更新在界面上。</p> <p>首先在store/index.ts中state加入新的状态数据count：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>state:()=&gt;{
        return{
            data:'Hello Pinia!',
            count:0
        }
    },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>再components文件夹下新建一个组件piniaChange.vue：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击count加1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> myStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/index.'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">myStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    store<span class="token punctuation">.</span>count<span class="token operator">++</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>然后将此组件也引入到App.vue中：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import piniaChangeVue from './components/piniaChange.vue';

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>piniaChangeVue</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但是count数据还未加入在组件中去，所以还测试不了count数据变化，选择把count状态数据加入上一节创建的piniaTest.vue中：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{store.data}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>count:{{store.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>最后，重新跑下项目，通过点击按钮就可以在页面上响应式看到count的改变。好啦，通过一顿操作验证了状态数据的改变。</p> <h3 id="状态数据读取时注意事项"><a href="#状态数据读取时注意事项" class="header-anchor">#</a> 状态数据读取时注意事项</h3> <p>在读取状态数据时，之前采用的方式是通过引入状态文件，实例化对象，再到对象读取的方式。可以通过对实例化对象结构的方式来读取数据：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{store.data}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>count:{{store.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{data}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>count:{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> myStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/index.'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">myStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span>count<span class="token punctuation">}</span> <span class="token operator">=</span> store
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>但是直接解构得到的数据并不是响应式数据，当count数据改变时，解构的数据并不会跟着发生变化。</p> <blockquote><p>解决办法：通过在pinia引入<code>storeToRefs()</code>方法，解构时对要解构的对象采用此方法，可以实现数据响应式变化了。</p></blockquote> <h1 id="四、pinia改变状态数据的四种方式"><a href="#四、pinia改变状态数据的四种方式" class="header-anchor">#</a> 四、Pinia改变状态数据的四种方式</h1> <h3 id="通过对象读取方法"><a href="#通过对象读取方法" class="header-anchor">#</a> 通过对象读取方法</h3> <p>前一节就是采用这种方法的读取并改变状态数据的。适用于简单的业务逻辑数据改变。</p> <h3 id="通过-patch修改多条数据"><a href="#通过-patch修改多条数据" class="header-anchor">#</a> 通过$patch修改多条数据</h3> <p>首先创建方法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>const handleClickPatch = ()=&gt;{
    store.$patch({
        count:store.count + 2,
    })
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后通过按钮调用该方法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClickPatch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Patch点击count加2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>优点：可以在$patch方法中写入多条状态数据改变，同时此方法是官方经过优化的，相比于直接修改来说修改速度更快，适用于多条数据同时更新状态。</p> <h3 id="直接在acitons中写好逻辑-再调用actions"><a href="#直接在acitons中写好逻辑-再调用actions" class="header-anchor">#</a> 直接在acitons中写好逻辑，再调用actions</h3> <p>在/store/index.ts的actions中写入actions：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>actions:{
        changeState(){
            this.count++
            this.data = 'Hello Actions'
        }
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>然后通过调用该actions：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>store.changeState()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Action点击count加1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意：actions中方法书写不能使用箭头函数，否则this指向位置发生错误。</p> <h1 id="五、pinia中getters的使用"><a href="#五、pinia中getters的使用" class="header-anchor">#</a> 五、Pinia中getters的使用</h1> <h3 id="getters使用"><a href="#getters使用" class="header-anchor">#</a> getters使用</h3> <p>getters与vue中的计算属性很相似，用于在获取状态数据时做一些处理。比如说state状态中有word状态数据，输出时想要保证是全大写的，以此为例。</p> <p>首先增加word状态数据：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code> state:()=&gt;{
        return{
            data:'Hello Pinia!',
            count:0,
            word:'Lowcase'
        }
    },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>书写getters：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>getters:{
        wordToUpper(state){
            return state.word.toLocaleUpperCase()
        }
    },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在组件中引入和调用：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>const {data,count,wordToUpper} = storeToRefs(store)

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{wordToUpper}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>重新跑通系统，可以看到word状态数据都变为大写的。</p> <h3 id="getters编写时this使用"><a href="#getters编写时this使用" class="header-anchor">#</a> getters编写时this使用</h3> <p>在书写getters时，可以传入state参数，直接在内容使用this来代替state。</p> <h3 id="getters缓存特性"><a href="#getters缓存特性" class="header-anchor">#</a> getters缓存特性</h3> <p>getters具有缓存特性，当多次调用getters内同一个函数时，它只会执行一次调用。</p> <p>可以在getters内函数打印调用信息来验证，当多次调用该函数时，发现控制台只打印了一次调用信息。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>getters:{
        wordToUpper(state){
            console.log('wordToUpper被调用了！')
            return state.word.toLocaleUpperCase()
        }
    },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>当状态数据发生改变时，被调用的函数才会重新执行一次，不管是有多少地方调用该函数。</p> <p>通过按钮调用改变状态数据方法可以验证：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>const handleClickToUpper = ()=&gt;{
    store.word = 'pinia'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>点击按钮后，即使有多处调用getters,控制台仍只打印一次调用信息。</p> <h1 id="六、pinia中store的相互调用"><a href="#六、pinia中store的相互调用" class="header-anchor">#</a> 六、Pinia中store的相互调用</h1> <p>pinia状态管理中有多个store时，就会涉及store间的相互调用。</p> <h3 id="新建一个store容器"><a href="#新建一个store容器" class="header-anchor">#</a> 新建一个store容器</h3> <p>在/src/store下新建文件another.ts:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import { defineStore } from &quot;pinia&quot;;

export const anotherStore = defineStore('anotherStore',{
    state:()=&gt;{
        return{
            songsList:['love story','lover','All to well']
        }
    },
    getters:{},
    actions:{}
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="在另一个容器中引入"><a href="#在另一个容器中引入" class="header-anchor">#</a> 在另一个容器中引入</h3> <p>在index.ts中引入新建的store容器：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>import { anotherStore } from '../store/another';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在index.ts中actions中调用另一个store状态数据</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>actions:{
        changeState(){
            this.count++
            this.data = 'Hello Actions'
        },
        getSongList(){
            console.log(anotherStore().songsList)
        }
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>再通过组件定义按钮来调用actions方法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>store.getSongList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>getList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>点击按钮可以看到控制台打印出信息，即完成了store间的调用。</p> <h1 id="七、pinia在开发中用vue-devtools的调试方法"><a href="#七、pinia在开发中用vue-devtools的调试方法" class="header-anchor">#</a> 七、Pinia在开发中用vue-devtools的调试方法</h1> <h3 id="vue-devtools安装"><a href="#vue-devtools安装" class="header-anchor">#</a> vue-devtools安装</h3> <p>vue-devtools是很好用的vue调试工具，可以在谷歌商店下载或者在github上下载自己跑通再安装。</p> <h3 id="vue-devtools对pinia的调试"><a href="#vue-devtools对pinia的调试" class="header-anchor">#</a> vue-devtools对Pinia的调试</h3> <p>安装后打开控制台的vue选项卡，可以看到vue中引入的组件；</p> <p>组件中显示小菠萝图标的就是代表store状态容器；还可以在组件中筛选出使用pinia状态管理的组件。</p> <p>以上是Pinia开发环境搭建和基础学习的内容了，完整示例代码上传到了github上，<a href="https://github.com/hongzhangfa/pinia-demo-vite-vue3-ts" target="_blank" rel="noopener noreferrer">链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <hr> <blockquote><p>参考链接：</p> <ul><li><a href="https://jspang.com/article/82" target="_blank" rel="noopener noreferrer">Pinia入门视频教程 全新一代状态管理工具Pinia -Vue3全家桶系列<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000040373313?utm_source=sf-similar-article" target="_blank" rel="noopener noreferrer">Pinia 快速入门<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://pinia.vuejs.org/" target="_blank" rel="noopener noreferrer">Pinia官方网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/b30620/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Vuex</div></a> <a href="/pages/5ff881/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">虚拟DOM和diff算法</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/b30620/" class="prev">Vuex</a></span> <span class="next"><a href="/pages/5ff881/">虚拟DOM和diff算法</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/d1d1fa/"><div>
            常用命令学习
            <!----></div></a> <span class="date">08-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2901bd/"><div>
            SQLite入门
            <!----></div></a> <span class="date">07-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/dev/c2047a/"><div>
            JetBrains错误集合
            <!----></div></a> <span class="date">07-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://mail.qq.com/" title="QQ邮箱" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/hongzhangfa" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.bilibili.com/" title="小破站" target="_blank" class="iconfont icon-bilibili"></a><a href="https://music.163.com/#/" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Mr.Fa | 本博客仅作为个人日常学习记录笔记使用<br> <a href="http://beian.miit.gov.cn/" target="_blank"></a><a href="/sitemap.xml">sitemap</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><!----><div></div></div></div>
    <script src="/assets/js/app.48fd9870.js" defer></script><script src="/assets/js/2.f277449b.js" defer></script><script src="/assets/js/276.c4391c38.js" defer></script><script src="/assets/js/4.c1a5692b.js" defer></script><script src="/assets/js/8.3b904238.js" defer></script><script src="/assets/js/14.28d7c741.js" defer></script>
  </body>
</html>
