<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>总结 | Mr.Fa&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/img/favicon2.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4cd746698b2a13cb0c902d7ba1b5b57f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-98291551-1"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98291551-1');
</script>
    <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1725717718088510" crossorigin="anonymous"></script>
    <meta name="description" content="无善无恶心之体，有善有恶意之动，知善知恶是良知，为善去恶是格物。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github,markdown">
    <meta name="google-site-verification" content="JfM7Cg2a2jlGXV2PfkH7sIRWZmcTa1aDCOHMaQH2UuE">
    <meta name="baidu-site-verification" content="code-OBocxvg8ja">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.5833552d.css" as="style"><link rel="preload" href="/assets/js/app.48fd9870.js" as="script"><link rel="preload" href="/assets/js/2.f277449b.js" as="script"><link rel="preload" href="/assets/js/37.70763a07.js" as="script"><link rel="preload" href="/assets/js/4.c1a5692b.js" as="script"><link rel="preload" href="/assets/js/8.3b904238.js" as="script"><link rel="preload" href="/assets/js/14.28d7c741.js" as="script"><link rel="prefetch" href="/assets/js/10.0e759f82.js"><link rel="prefetch" href="/assets/js/100.7f3248cd.js"><link rel="prefetch" href="/assets/js/101.684ce486.js"><link rel="prefetch" href="/assets/js/102.5ade2710.js"><link rel="prefetch" href="/assets/js/103.a80e60fd.js"><link rel="prefetch" href="/assets/js/104.abe5ab09.js"><link rel="prefetch" href="/assets/js/105.669e6ef9.js"><link rel="prefetch" href="/assets/js/106.114892ee.js"><link rel="prefetch" href="/assets/js/107.24a6b8bf.js"><link rel="prefetch" href="/assets/js/108.5eab7bb1.js"><link rel="prefetch" href="/assets/js/109.47159546.js"><link rel="prefetch" href="/assets/js/11.52c6c9d4.js"><link rel="prefetch" href="/assets/js/110.721a871b.js"><link rel="prefetch" href="/assets/js/111.1d290c04.js"><link rel="prefetch" href="/assets/js/112.18beeb32.js"><link rel="prefetch" href="/assets/js/113.f506e741.js"><link rel="prefetch" href="/assets/js/114.435ed255.js"><link rel="prefetch" href="/assets/js/115.9d1fe8ff.js"><link rel="prefetch" href="/assets/js/116.c0ebb3cc.js"><link rel="prefetch" href="/assets/js/117.926ba433.js"><link rel="prefetch" href="/assets/js/118.0806d7f1.js"><link rel="prefetch" href="/assets/js/119.a354e8ee.js"><link rel="prefetch" href="/assets/js/12.638c2372.js"><link rel="prefetch" href="/assets/js/120.59d9502a.js"><link rel="prefetch" href="/assets/js/121.4b6dc715.js"><link rel="prefetch" href="/assets/js/122.e2f1c875.js"><link rel="prefetch" href="/assets/js/123.e8442683.js"><link rel="prefetch" href="/assets/js/124.601a46d1.js"><link rel="prefetch" href="/assets/js/125.d2d856a2.js"><link rel="prefetch" href="/assets/js/126.6253f8ab.js"><link rel="prefetch" href="/assets/js/127.8cb39ebc.js"><link rel="prefetch" href="/assets/js/128.3d688916.js"><link rel="prefetch" href="/assets/js/129.073e6622.js"><link rel="prefetch" href="/assets/js/13.499d98b2.js"><link rel="prefetch" href="/assets/js/130.c7f3a9ee.js"><link rel="prefetch" href="/assets/js/131.60d62f9d.js"><link rel="prefetch" href="/assets/js/132.e77e8e51.js"><link rel="prefetch" href="/assets/js/133.21fb5921.js"><link rel="prefetch" href="/assets/js/134.3c88d1bf.js"><link rel="prefetch" href="/assets/js/135.1ed06824.js"><link rel="prefetch" href="/assets/js/136.42abd773.js"><link rel="prefetch" href="/assets/js/137.dec9872a.js"><link rel="prefetch" href="/assets/js/138.956c6465.js"><link rel="prefetch" href="/assets/js/139.c050ac87.js"><link rel="prefetch" href="/assets/js/140.8311bf84.js"><link rel="prefetch" href="/assets/js/141.0704a43f.js"><link rel="prefetch" href="/assets/js/142.a0373da3.js"><link rel="prefetch" href="/assets/js/143.5c0dcd5a.js"><link rel="prefetch" href="/assets/js/144.7c6f8719.js"><link rel="prefetch" href="/assets/js/145.1a8fe2a6.js"><link rel="prefetch" href="/assets/js/146.31feadbd.js"><link rel="prefetch" href="/assets/js/147.9835eb4b.js"><link rel="prefetch" href="/assets/js/148.9233830b.js"><link rel="prefetch" href="/assets/js/149.ff3677f9.js"><link rel="prefetch" href="/assets/js/15.adb5b63f.js"><link rel="prefetch" href="/assets/js/150.68d3824c.js"><link rel="prefetch" href="/assets/js/151.121b4995.js"><link rel="prefetch" href="/assets/js/152.636039e3.js"><link rel="prefetch" href="/assets/js/153.9d3aec3b.js"><link rel="prefetch" href="/assets/js/154.f3787f44.js"><link rel="prefetch" href="/assets/js/155.49c1fc7b.js"><link rel="prefetch" href="/assets/js/156.da8625ee.js"><link rel="prefetch" href="/assets/js/157.bc22342c.js"><link rel="prefetch" href="/assets/js/158.8b930053.js"><link rel="prefetch" href="/assets/js/159.65b797b1.js"><link rel="prefetch" href="/assets/js/16.014f462f.js"><link rel="prefetch" href="/assets/js/160.9d960af0.js"><link rel="prefetch" href="/assets/js/161.6eb399a9.js"><link rel="prefetch" href="/assets/js/162.2a63d80f.js"><link rel="prefetch" href="/assets/js/163.60f756e2.js"><link rel="prefetch" href="/assets/js/164.2dbc802c.js"><link rel="prefetch" href="/assets/js/165.ed939e92.js"><link rel="prefetch" href="/assets/js/166.808ceabb.js"><link rel="prefetch" href="/assets/js/167.081accbe.js"><link rel="prefetch" href="/assets/js/168.436a363e.js"><link rel="prefetch" href="/assets/js/169.880ef532.js"><link rel="prefetch" href="/assets/js/17.9722c09a.js"><link rel="prefetch" href="/assets/js/170.41cfa6cb.js"><link rel="prefetch" href="/assets/js/171.769daee2.js"><link rel="prefetch" href="/assets/js/172.3a086449.js"><link rel="prefetch" href="/assets/js/173.4acfeae7.js"><link rel="prefetch" href="/assets/js/174.679919fa.js"><link rel="prefetch" href="/assets/js/175.f55ea1e2.js"><link rel="prefetch" href="/assets/js/176.e3d0d4b8.js"><link rel="prefetch" href="/assets/js/177.dcd2b45d.js"><link rel="prefetch" href="/assets/js/178.da4537be.js"><link rel="prefetch" href="/assets/js/179.e43a2a4e.js"><link rel="prefetch" href="/assets/js/18.64e5c839.js"><link rel="prefetch" href="/assets/js/180.829a9f81.js"><link rel="prefetch" href="/assets/js/181.347f2e0b.js"><link rel="prefetch" href="/assets/js/182.e59cc34c.js"><link rel="prefetch" href="/assets/js/183.0cbf281c.js"><link rel="prefetch" href="/assets/js/184.b046e20e.js"><link rel="prefetch" href="/assets/js/185.b3fcbd95.js"><link rel="prefetch" href="/assets/js/186.fdff8fbe.js"><link rel="prefetch" href="/assets/js/187.cd80c1ce.js"><link rel="prefetch" href="/assets/js/188.eeb8fece.js"><link rel="prefetch" href="/assets/js/189.79ca4c80.js"><link rel="prefetch" href="/assets/js/19.02f8db5e.js"><link rel="prefetch" href="/assets/js/190.c54f505c.js"><link rel="prefetch" href="/assets/js/191.c1622fe4.js"><link rel="prefetch" href="/assets/js/192.61cf74d0.js"><link rel="prefetch" href="/assets/js/193.cea9c0ac.js"><link rel="prefetch" href="/assets/js/194.a5da077b.js"><link rel="prefetch" href="/assets/js/195.87b1f110.js"><link rel="prefetch" href="/assets/js/196.b948220f.js"><link rel="prefetch" href="/assets/js/197.8500480b.js"><link rel="prefetch" href="/assets/js/198.979473c7.js"><link rel="prefetch" href="/assets/js/199.aa730140.js"><link rel="prefetch" href="/assets/js/20.5c251b42.js"><link rel="prefetch" href="/assets/js/200.77c3317b.js"><link rel="prefetch" href="/assets/js/201.c5e0a633.js"><link rel="prefetch" href="/assets/js/202.a60a074c.js"><link rel="prefetch" href="/assets/js/203.5fb41b85.js"><link rel="prefetch" href="/assets/js/204.6cfa35b2.js"><link rel="prefetch" href="/assets/js/205.88bf56e9.js"><link rel="prefetch" href="/assets/js/206.2c8e0e39.js"><link rel="prefetch" href="/assets/js/207.a32f14af.js"><link rel="prefetch" href="/assets/js/208.f80204ea.js"><link rel="prefetch" href="/assets/js/209.40c62060.js"><link rel="prefetch" href="/assets/js/21.38ce7b46.js"><link rel="prefetch" href="/assets/js/210.6498117b.js"><link rel="prefetch" href="/assets/js/211.997047cf.js"><link rel="prefetch" href="/assets/js/212.93b237eb.js"><link rel="prefetch" href="/assets/js/213.d3b48a09.js"><link rel="prefetch" href="/assets/js/214.c5a82720.js"><link rel="prefetch" href="/assets/js/215.f1108be7.js"><link rel="prefetch" href="/assets/js/216.a304d2a6.js"><link rel="prefetch" href="/assets/js/217.2c6d7e52.js"><link rel="prefetch" href="/assets/js/218.c6938279.js"><link rel="prefetch" href="/assets/js/219.40eb416a.js"><link rel="prefetch" href="/assets/js/22.0be2c8db.js"><link rel="prefetch" href="/assets/js/220.304f0cd1.js"><link rel="prefetch" href="/assets/js/221.e4672fa5.js"><link rel="prefetch" href="/assets/js/222.acb0f583.js"><link rel="prefetch" href="/assets/js/223.82c32557.js"><link rel="prefetch" href="/assets/js/224.7d577095.js"><link rel="prefetch" href="/assets/js/225.526cb8da.js"><link rel="prefetch" href="/assets/js/226.536d7d72.js"><link rel="prefetch" href="/assets/js/227.4c3850c0.js"><link rel="prefetch" href="/assets/js/228.a7326bd6.js"><link rel="prefetch" href="/assets/js/229.b2fc97e0.js"><link rel="prefetch" href="/assets/js/23.e938f5dc.js"><link rel="prefetch" href="/assets/js/230.adc960be.js"><link rel="prefetch" href="/assets/js/231.f6240ccc.js"><link rel="prefetch" href="/assets/js/232.b00eb098.js"><link rel="prefetch" href="/assets/js/233.86e420eb.js"><link rel="prefetch" href="/assets/js/234.d03fb3a6.js"><link rel="prefetch" href="/assets/js/235.fc034639.js"><link rel="prefetch" href="/assets/js/236.635081eb.js"><link rel="prefetch" href="/assets/js/237.ed99a68f.js"><link rel="prefetch" href="/assets/js/238.ae250bd5.js"><link rel="prefetch" href="/assets/js/239.7bcf495d.js"><link rel="prefetch" href="/assets/js/24.55915b93.js"><link rel="prefetch" href="/assets/js/240.a6ac4c76.js"><link rel="prefetch" href="/assets/js/241.1ee3af2e.js"><link rel="prefetch" href="/assets/js/242.256af573.js"><link rel="prefetch" href="/assets/js/243.431a11a2.js"><link rel="prefetch" href="/assets/js/244.58c934f9.js"><link rel="prefetch" href="/assets/js/245.64b68f7e.js"><link rel="prefetch" href="/assets/js/246.2784567e.js"><link rel="prefetch" href="/assets/js/247.c930d2d1.js"><link rel="prefetch" href="/assets/js/248.62a76089.js"><link rel="prefetch" href="/assets/js/249.2f4aada5.js"><link rel="prefetch" href="/assets/js/25.5a29ccaa.js"><link rel="prefetch" href="/assets/js/250.e187b45f.js"><link rel="prefetch" href="/assets/js/251.f6cb3ca3.js"><link rel="prefetch" href="/assets/js/252.926e84e0.js"><link rel="prefetch" href="/assets/js/253.05d334f2.js"><link rel="prefetch" href="/assets/js/254.ec8c595f.js"><link rel="prefetch" href="/assets/js/255.654fa7d7.js"><link rel="prefetch" href="/assets/js/256.ab54a4eb.js"><link rel="prefetch" href="/assets/js/257.735f1043.js"><link rel="prefetch" href="/assets/js/258.638a819a.js"><link rel="prefetch" href="/assets/js/259.3e3f1f8d.js"><link rel="prefetch" href="/assets/js/26.5b61cb7f.js"><link rel="prefetch" href="/assets/js/260.0fa3d4ba.js"><link rel="prefetch" href="/assets/js/261.de7c7bcf.js"><link rel="prefetch" href="/assets/js/262.6f29107f.js"><link rel="prefetch" href="/assets/js/263.f36abb96.js"><link rel="prefetch" href="/assets/js/264.c5e4c2fc.js"><link rel="prefetch" href="/assets/js/265.c2a83dc4.js"><link rel="prefetch" href="/assets/js/266.8dcedf1c.js"><link rel="prefetch" href="/assets/js/267.08d1d4b7.js"><link rel="prefetch" href="/assets/js/268.4ecc418f.js"><link rel="prefetch" href="/assets/js/269.24c66f8c.js"><link rel="prefetch" href="/assets/js/27.e9deba12.js"><link rel="prefetch" href="/assets/js/270.dd57a5ea.js"><link rel="prefetch" href="/assets/js/271.3b80154c.js"><link rel="prefetch" href="/assets/js/272.42961d52.js"><link rel="prefetch" href="/assets/js/273.6d09dc6e.js"><link rel="prefetch" href="/assets/js/274.1ef2b4e3.js"><link rel="prefetch" href="/assets/js/275.ff4a5a74.js"><link rel="prefetch" href="/assets/js/276.c4391c38.js"><link rel="prefetch" href="/assets/js/277.da127476.js"><link rel="prefetch" href="/assets/js/278.4a3b2e1d.js"><link rel="prefetch" href="/assets/js/279.7f4dc5c4.js"><link rel="prefetch" href="/assets/js/28.4ad3c173.js"><link rel="prefetch" href="/assets/js/280.57a69928.js"><link rel="prefetch" href="/assets/js/29.f0ac568f.js"><link rel="prefetch" href="/assets/js/3.13adf3b7.js"><link rel="prefetch" href="/assets/js/30.8349310a.js"><link rel="prefetch" href="/assets/js/31.82c9f121.js"><link rel="prefetch" href="/assets/js/32.340f9ba6.js"><link rel="prefetch" href="/assets/js/33.19e2b723.js"><link rel="prefetch" href="/assets/js/34.2b294132.js"><link rel="prefetch" href="/assets/js/35.c5dc1d83.js"><link rel="prefetch" href="/assets/js/36.4b97c73c.js"><link rel="prefetch" href="/assets/js/38.3b33ba08.js"><link rel="prefetch" href="/assets/js/39.c78e71e9.js"><link rel="prefetch" href="/assets/js/40.43865686.js"><link rel="prefetch" href="/assets/js/41.9ec38a63.js"><link rel="prefetch" href="/assets/js/42.0a52265e.js"><link rel="prefetch" href="/assets/js/43.f78ee122.js"><link rel="prefetch" href="/assets/js/44.6bc80c8e.js"><link rel="prefetch" href="/assets/js/45.b8617ce9.js"><link rel="prefetch" href="/assets/js/46.09e7e547.js"><link rel="prefetch" href="/assets/js/47.f56b019f.js"><link rel="prefetch" href="/assets/js/48.319af279.js"><link rel="prefetch" href="/assets/js/49.b3b4716e.js"><link rel="prefetch" href="/assets/js/5.70cc3c55.js"><link rel="prefetch" href="/assets/js/50.21368e6e.js"><link rel="prefetch" href="/assets/js/51.127ee780.js"><link rel="prefetch" href="/assets/js/52.dcfcf098.js"><link rel="prefetch" href="/assets/js/53.d2f52d2d.js"><link rel="prefetch" href="/assets/js/54.25bf7c9a.js"><link rel="prefetch" href="/assets/js/55.f0946706.js"><link rel="prefetch" href="/assets/js/56.eb1b9545.js"><link rel="prefetch" href="/assets/js/57.92196605.js"><link rel="prefetch" href="/assets/js/58.4c1c7596.js"><link rel="prefetch" href="/assets/js/59.c2076aa4.js"><link rel="prefetch" href="/assets/js/6.5fb247ed.js"><link rel="prefetch" href="/assets/js/60.b9c6657f.js"><link rel="prefetch" href="/assets/js/61.9f549f80.js"><link rel="prefetch" href="/assets/js/62.dd6afffe.js"><link rel="prefetch" href="/assets/js/63.8062355e.js"><link rel="prefetch" href="/assets/js/64.122cbdc5.js"><link rel="prefetch" href="/assets/js/65.ec7ba87e.js"><link rel="prefetch" href="/assets/js/66.16eb33ad.js"><link rel="prefetch" href="/assets/js/67.83d57537.js"><link rel="prefetch" href="/assets/js/68.d32e3748.js"><link rel="prefetch" href="/assets/js/69.aab1ed76.js"><link rel="prefetch" href="/assets/js/7.fd2d4284.js"><link rel="prefetch" href="/assets/js/70.3a5ee9b1.js"><link rel="prefetch" href="/assets/js/71.fa86670a.js"><link rel="prefetch" href="/assets/js/72.713d0354.js"><link rel="prefetch" href="/assets/js/73.573cbd77.js"><link rel="prefetch" href="/assets/js/74.6e6aed65.js"><link rel="prefetch" href="/assets/js/75.136bfe6d.js"><link rel="prefetch" href="/assets/js/76.2aed98f7.js"><link rel="prefetch" href="/assets/js/77.7c6b564e.js"><link rel="prefetch" href="/assets/js/78.56525fbf.js"><link rel="prefetch" href="/assets/js/79.ccc424ba.js"><link rel="prefetch" href="/assets/js/80.70d07a7c.js"><link rel="prefetch" href="/assets/js/81.48f66144.js"><link rel="prefetch" href="/assets/js/82.347f7f85.js"><link rel="prefetch" href="/assets/js/83.c91f5cc2.js"><link rel="prefetch" href="/assets/js/84.f37bea00.js"><link rel="prefetch" href="/assets/js/85.3bb5879d.js"><link rel="prefetch" href="/assets/js/86.379ed252.js"><link rel="prefetch" href="/assets/js/87.cf68c232.js"><link rel="prefetch" href="/assets/js/88.d752103c.js"><link rel="prefetch" href="/assets/js/89.a9e7b746.js"><link rel="prefetch" href="/assets/js/9.7e2c8032.js"><link rel="prefetch" href="/assets/js/90.9f5f15f0.js"><link rel="prefetch" href="/assets/js/91.396b2070.js"><link rel="prefetch" href="/assets/js/92.0d1dc663.js"><link rel="prefetch" href="/assets/js/93.cd8488aa.js"><link rel="prefetch" href="/assets/js/94.25038451.js"><link rel="prefetch" href="/assets/js/95.9da8a571.js"><link rel="prefetch" href="/assets/js/96.2804ee04.js"><link rel="prefetch" href="/assets/js/97.1e2b80a3.js"><link rel="prefetch" href="/assets/js/98.90f9a72c.js"><link rel="prefetch" href="/assets/js/99.8f797bc8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5833552d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/surfing.png" alt="Mr.Fa's blog" class="logo"> <span class="site-name can-hide">Mr.Fa's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-item"><!----> <a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-item"><!----> <a href="/pages/51afd6/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">收藏册</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/methods/" class="nav-link">技巧方法</a></li><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">时间线</a></li><li class="dropdown-item"><!----> <a href="/more/friends/" class="nav-link">友链</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/hongzhangfa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.png"> <div class="blogger-info"><h3>二十九画生</h3> <span>失之东隅，收之桑榆</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/frame/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-item"><!----> <a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-item"><!----> <a href="/pages/51afd6/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tools/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/" class="nav-link">开发工具</a></li><li class="dropdown-item"><!----> <a href="/sys/" class="nav-link">系统工具</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">收藏册</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/methods/" class="nav-link">技巧方法</a></li><li class="dropdown-item"><!----> <a href="/more/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">时间线</a></li><li class="dropdown-item"><!----> <a href="/more/friends/" class="nav-link">友链</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/hongzhangfa" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>CSS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/4478e6/" class="sidebar-link">CSS实现垂直居中</a></li><li><a href="/pages/3122d0/" class="sidebar-link">position种类以及对应效果和用法</a></li><li><a href="/pages/dd7842/" class="sidebar-link">display常见属性</a></li><li><a href="/pages/7f0b96/" class="sidebar-link">CSS选择器的优先级</a></li><li><a href="/pages/d7cdc8/" aria-current="page" class="active sidebar-link">总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#html语义化" class="sidebar-link">HTML语义化</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#script标签中defer和async" class="sidebar-link">script标签中defer和async</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#url全过程" class="sidebar-link">url全过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_1-url解析" class="sidebar-link">1. url解析</a></li><li class="sidebar-sub-header level4"><a href="/pages/d7cdc8/#_1-1-http请求" class="sidebar-link">1.1 HTTP请求</a></li><li class="sidebar-sub-header level4"><a href="/pages/d7cdc8/#_1-2-强缓存与协商缓存" class="sidebar-link">1.2 强缓存与协商缓存</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_2-dns域名解析" class="sidebar-link">2. DNS域名解析</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_3-tcp连接" class="sidebar-link">3. TCP连接</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_4-http请求" class="sidebar-link">4. HTTP请求</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_5-服务器处理请求并返回http报文" class="sidebar-link">5. 服务器处理请求并返回HTTP报文</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_6-浏览器渲染页面" class="sidebar-link">6. 浏览器渲染页面</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#_7-tcp四次挥手" class="sidebar-link">7. TCP四次挥手</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#盒模型" class="sidebar-link">盒模型</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#css优先级" class="sidebar-link">CSS优先级</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#重排和重绘" class="sidebar-link">重排和重绘</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#bfc" class="sidebar-link">BFC</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#js基础类型" class="sidebar-link">js基础类型</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#手写深拷贝" class="sidebar-link">手写深拷贝</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#_0-1-0-2-0-3" class="sidebar-link">0.1 + 0.2 !== 0.3</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#原型与原型链" class="sidebar-link">原型与原型链</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#作用域与作用域链" class="sidebar-link">作用域与作用域链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header level3"><a href="/pages/d7cdc8/#作用域链" class="sidebar-link">作用域链</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#作用域与执行上下文" class="sidebar-link">作用域与执行上下文</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#立即执行函数" class="sidebar-link">立即执行函数</a></li><li class="sidebar-sub-header level2"><a href="/pages/d7cdc8/#观察者模式-发布-订阅模式" class="sidebar-link">观察者模式（发布-订阅模式）</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>高级</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/frontend/#前端" data-v-06225672>前端</a></li><li data-v-06225672><a href="/frontend/#CSS" data-v-06225672>CSS</a></li><li data-v-06225672><a href="/frontend/#基础" data-v-06225672>基础</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://hongzhangfa.github.io/" target="_blank" title="作者" class="beLink" data-v-06225672>Mr.Fa</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-04-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">总结<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="html语义化"><a href="#html语义化" class="header-anchor">#</a> HTML语义化</h2> <ul><li>增加代码可读性，让开发者更好地理解；</li> <li>能让搜索引擎更容易读懂，有助于爬虫爬取更多有效信息，有利于SEO；</li> <li>在没有CSS样式下，页面也能呈现出更好地内容结构、代码结构；</li> <li>方便视力不好人员浏览网页，可以通过阅读屏幕的方式阅读。</li></ul> <h2 id="script标签中defer和async"><a href="#script标签中defer和async" class="header-anchor">#</a> script标签中defer和async</h2> <p>由于script标签会阻塞HTML解析，只有下载好并执行完脚本之后才会继续解析HTML。如果某个脚本的网络请求时间太长，或者JS脚本执行时间过长，都会导致页面白屏，用户看不到内容，于是出现了defer 和 async两个属性。</p> <ul><li><code>async</code>: 解析HTML过程中进行脚本的异步下载，下载成功立即执行，有可能阻断HTML解析；</li></ul> <p>当浏览器遇到带有async属性的script时，请求该脚本的网络请求是异步的，不会阻塞浏览器解析HTML，一旦网络请求回来之后，如果此时HTML还没有解析完，浏览器会暂停解析，现在JS引擎执行代码，代码执行完毕之后再进行解析，如图所示：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/021b5dbeddb64db0a7099dc0a4dd076d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="async script"></p> <p>但是，如果在JS脚本请求回来之前，HTML已经解析完毕了，那也就不会阻塞HTML解析啦，会立即执行JS，如图所示：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e5a89a4a1fe49ed9d5acaf25ef9aadd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="async script"></p> <p>缺点：async属性是不可控的，因为该script标签请求到的网络资源依赖于网络传输的快慢，哪个脚本先获取到哪个就先执行；多个async脚本执行顺序不确定；因此如果在该异步JS脚本中获取某个DOM元素，有可能获取得到，也有可能获取不到。</p> <ul><li><code>defer</code>：完全不会阻碍HTML的解析，解析完成之后再按照顺序执行脚本。</li></ul> <p>当浏览器遇到带有defer属性的脚本时，获取该脚本的网络请求也是异步的，不会阻塞浏览器解析HTML，即使网络请求回来之后，如果此时HTML还没有解析完，浏览器也不会暂停解析并执行JS代码，而是等待HTML解析完毕再执行JS代码，如图所示：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8313e4787f04c79838fec9961bda0fb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="defer script"></p> <p>优点：如果存在多个defer script标签，浏览器会保证它们按照在HTML中出现的顺序执行，不会破坏JS脚本之前的依赖。、</p> <p>使用场景：</p> <ul><li>推荐如果可以使用async，则优先使用async，然后是defer，最后才是不设置任何属性；</li> <li>如果脚本是模块化的，并且不依赖其他任何脚本，可以使用async；</li> <li>如果脚本依赖于另外一个脚本，推荐使用defer；</li> <li>如果脚本很小，并且依赖于异步脚本，可以使用内联脚本，不用使用任何属性。</li></ul> <h2 id="url全过程"><a href="#url全过程" class="header-anchor">#</a> url全过程</h2> <h3 id="_1-url解析"><a href="#_1-url解析" class="header-anchor">#</a> 1. url解析</h3> <p>浏览器对url解析出协议、主机、端口、路径等信息，构造出一个HTTP请求。</p> <h4 id="_1-1-http请求"><a href="#_1-1-http请求" class="header-anchor">#</a> 1.1 HTTP请求</h4> <p>HTTP请求包含三个部分：请求行、请求头和请求体。</p> <ul><li>请求行包括：请求方法、请求路径、所用的协议版本</li> <li>请求头：键值对的信息</li> <li>请求体：请求的主体信息</li></ul> <p>请求方法包括：GET、POST、HEAD、PUT、TRACE、DELETE、OPTIONS</p> <p>关于状态码：<a href="https://hongzhangfa.github.io/pages/261545/" target="_blank" rel="noopener noreferrer">HTTP常见状态码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>关于HTTPS协议：采用对称加密和非对称加密两种方式结合，客户端第一次请求的时候，服务端将证书的公钥传给客户端，客户端验证证书的合法性后，客户端产生随机数，并采用证书的公钥加密发回去，服务端采用自己的私钥解出来，随后用解出来的密钥进行对称加密通信。</p> <ol><li>为什么用非对称加密传输密钥：非对称加密只作用在证书验证阶段，防止中间人截获；</li></ol> <p>什么是中间人攻击？简单来说就是，中间人截获客户端发送的消息，并返回给客户端中间人证书，然后获取到客户端的密钥；接着中间人再利用此信息和服务端进行通信，可以通过密钥得到传回给客户端的消息。所以通过证书来验证合法性防止中间人攻击。</p> <ol start="2"><li>为什么用对称加密进行内容传输：非对称加密的解密效率非常低，消息传输交互大，需要提高效率；而且私钥只保存在服务端，一对公私钥只能实现单向的加解密，服务端又不是只给你一个人服务。</li></ol> <p>关于HTTP协议发展史：</p> <p>HTTP1.0：</p> <ul><li>浏览器与服务器只保持短暂的链接，每次请求都需要建立一个TCP连接，服务器完成请求处理后立刻断开TCP连接；</li> <li>出现的问题：当网页中包含多个图片链接、JS文件、CSS文件时，会频繁进行TCP连接与断开；</li> <li>缺点：连接无法复用，浏览器对于同一个域名，同时只能有4个连接，超过后续请求会被阻塞；</li></ul> <p>HTTP1.1：</p> <ul><li>增加管线化技术，允许客户端不用等到服务器响应就能发送下一个请求；目的是为了在一次TCP连接上可以并发多个请求，来提高网络利用率；</li> <li>缺点：服务器必须按照请求的顺序来响应，即后续请求的响应必须等到第一个响应发送之后才能发生（HTTP队头阻塞）</li> <li>HTTP对头阻塞解决：并发链接；域名分片；</li></ul> <p>HTTP2.0：</p> <ul><li>增加了一层二进制分帧层，消息可以分为多帧，利用一个TCP连接中可以用多个帧流，但是仍然无法解决TCP队头阻塞。</li></ul> <p>HTTP1.0 vs HTTP1.1：</p> <ul><li>支持持久连接，一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟；默认开启Connection：keep-alive；</li> <li>允许客户端不必等待上一次请求结果返回，就可以发出下一次请求；</li> <li>缓存处理，增加ETag/If-None-Match字段；</li> <li>带宽优化以及网络链接优化，即206部分资源请求</li></ul> <p>HTTP1.1 vs HTTP2.0</p> <ul><li>对于请求头的压缩：客户端与服务端之间建立哈希表，只传索引；对于整数和字符串进行哈夫曼编码；</li> <li>多路复用；</li> <li>二进制分帧；</li> <li>服务器推送（埋坑：与preload、prefetch有关系嘛？）</li></ul> <h4 id="_1-2-强缓存与协商缓存"><a href="#_1-2-强缓存与协商缓存" class="header-anchor">#</a> 1.2 强缓存与协商缓存</h4> <p>根据构造的HTTP请求，浏览器会判断该请求信息是否在浏览器端存在缓存，从而加快资源获取速度，提升用户体验，减少网络传输，缓解服务端压力。</p> <p>哪么，浏览器怎么判断是否存在缓存呢？首先需要说明的是浏览器存在两者HTTP缓存：强缓存和协商缓存。</p> <p>关于强缓存，不需要发送请求到服务端，直接读取浏览器本地缓存，HTTP状态码是200；强缓存是由Expires、Cache-Control和Pragma 3个Header属性共同来控制。</p> <p><code>Expires</code>:浏览器在发起请求时，会判断系统时间和<code>Expires</code>值进行比较，如果系统时间超过Expires的值，则缓存失效。由于系统时间有可能和服务器时间不一致，会有缓存有效期不准的问题，优先级最低。</p> <p><code>Cache-Control</code>：HTTP/1.1中新增的属性，常见的属性值有：</p> <ul><li>max-age：单位为秒，距离发起的时间的秒数，超过间隔的秒数缓存失效</li> <li>no-cache：不使用强缓存，需要与服务器验证缓存是否新鲜</li> <li>no-store：禁止是同缓存，包括协商缓存</li> <li>private：专用与个人的缓存，中间代理、CDN等不能缓存此响应</li> <li>public：响应可以被中间代理、CDN缓存</li> <li>must-revalidate：在缓存过期前可以使用，过期后必须向服务器验证</li></ul> <p><code>Pragma</code>：只有no-cache属性值，不使用强缓存，需要与服务器验证缓存是否新鲜，优先级最高</p> <p>关于协商缓存，当浏览器的强制缓存失效或者请求头中设置了no-cache，并且在请求头中设置了If-Modified-Since或者If-None-Match的时候，会将这两个属性值到服务端去验证是否命中协商缓存，如果命中了协商缓存，返回304状态码，加载浏览器缓存，并且响应头会设置Last-Modified或者ETag属性。</p> <p><code>Etag/If-None-Match</code>:是一串hash值，代表的是一个资源的标识符，当服务端的文件变化的时候，它的hash码会随之变化，通过请求头中的If-None-Match和当前文件的hash值进行比较，如果相等则表示命中协商缓存。Etag有强弱校验之分，如果是弱校验，只有服务器上的文件差异（根据Etag计算方式来决定）达到能够触发hash值后缀变化的时候，才会真正地请求资源，否则返回304并加载浏览器缓存。</p> <p><code>Last-Modified/If-Modified-Since</code>:该值代表的是文件的最后修改时间，第一次请求服务端会把资源的最后修改时间放到Last-Modified响应头中，第二次发起请求的时候，请求头会带上上一次响应头中的Last-Modified的时间，并放到If-Modified-Since请求头属性中，服务端根据文件最后一次修改时间和If-Modified-SInce的值进行比较，如果相等返回304，并加载浏览器缓存。</p> <p><code>Etag/If-None-Match</code>的出现解决了<code>Last-Modified/If-Modified-Since</code>解决不了的问题：</p> <ul><li>如果文件的修改频率过快，<code>Last-Modified/If-Modified-Since</code>会错误地返回304，因为来不及不对服务器端修改的时间；</li> <li>如果文件被修改了，但是内容没有任何改变时，<code>Last-Modified/If-Modified-Since</code>会错误返回304。</li></ul> <h3 id="_2-dns域名解析"><a href="#_2-dns域名解析" class="header-anchor">#</a> 2. DNS域名解析</h3> <p>DNS域名解析分为递归查询和迭代查询两种方式。解析流程是：先查看本地hosts文件是否有映射，然后去查本地DNS服务器，如果没有委托本地服务器去根DNS、顶级域名服务器、再到权威域名服务器查询。可以通过DNS缓存、DNS负载均衡、DNS预解析技术优化。</p> <h3 id="_3-tcp连接"><a href="#_3-tcp连接" class="header-anchor">#</a> 3. TCP连接</h3> <p>在经过DNS域名解析之后，浏览器拿到了目的IP地址，然后经过传输层的TCP协议，将请求报文进行TCP头封装，分成适合TCP传输的TCP段，TCP报文中包含与服务端连接的状态信息、端口号，源IP和目的IP地址等，在进行网络层IP头封装和网络接口层的MAC头封装，进行与服务器连接。通过TCP三次握手建立可靠连接，从而进行后续的资源请求。</p> <p>为什么要进行三次握手呢？因为TCP为了建立可靠连接，需要保证客户端和服务端接收和发送能力。第一次握手可以确定客户端的发送能力，第二次握手来确定服务端的发送能力和接收能力，第三次握手才可以确定客户端的接收能力，从而减少丢包的现象。</p> <p>如果只进行两次握手的话，第一次握手之后，第二次握手的请求在网络传输时间过长，从而客户端重新进行握手建立连接之后，上一次的握手响应被客户端接收到，会导致资源请求混乱。</p> <h3 id="_4-http请求"><a href="#_4-http请求" class="header-anchor">#</a> 4. HTTP请求</h3> <h3 id="_5-服务器处理请求并返回http报文"><a href="#_5-服务器处理请求并返回http报文" class="header-anchor">#</a> 5. 服务器处理请求并返回HTTP报文</h3> <h3 id="_6-浏览器渲染页面"><a href="#_6-浏览器渲染页面" class="header-anchor">#</a> 6. 浏览器渲染页面</h3> <p>根据HTTP返回的报文进行页面的渲染，渲染过程可以参考：<a href="https://www.songbenblog.com/pages/9d17c9/#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93" target="_blank" rel="noopener noreferrer">浏览器渲染<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77972f24d69243bb93679f155f305095~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="浏览器渲染页面"></p> <p>注意页面渲染过程中JS阻塞问题，还有关于重绘和重排的问题及优化。</p> <p>关于页面渲染优化：</p> <ul><li>HTML文档结构层次尽量少，最好不深于6层</li> <li>脚本尽量后放，或者异步执行</li> <li>在JS脚本中尽量减少DOM操作，尽量缓存访问DOM的样式信息，避免过度触发回流；</li> <li>动画尽量使用绝对定位，或固定定位的元素上；或者是同tranform。</li></ul> <h3 id="_7-tcp四次挥手"><a href="#_7-tcp四次挥手" class="header-anchor">#</a> 7. TCP四次挥手</h3> <p>客户端请求断开连接时，有可能服务端资源还没有传输完毕。</p> <hr> <p>参考链接；</p> <ol><li><a href="https://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html" target="_blank" rel="noopener noreferrer">async vs defer attributes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6928677404332425223" target="_blank" rel="noopener noreferrer">阿里面试官的”说一下从url输入到返回请求的过程“问的难度就是不一样！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <hr> <h2 id="盒模型"><a href="#盒模型" class="header-anchor">#</a> 盒模型</h2> <ul><li>content-box：盒子的width和height 不包含padding和border</li> <li>border-box：盒子的width和height 包含padding和border</li></ul> <h2 id="css优先级"><a href="#css优先级" class="header-anchor">#</a> CSS优先级</h2> <p>!important &gt; style内联样式 &gt; id &gt; 类选择器、属性选择器、伪类选择器 &gt; 标签选择器、伪元素</p> <h2 id="重排和重绘"><a href="#重排和重绘" class="header-anchor">#</a> 重排和重绘</h2> <ul><li>重排：影响了元素的位置或者尺寸，浏览器需要重新计算元素在视口内的几何数学</li> <li>重绘：样式改变并没有影响到元素的尺寸和位置。</li></ul> <p>优化：</p> <ul><li>样式集中改变；</li> <li>批量操作DOM；</li> <li>脱离文档流；</li> <li>开启GPU加速，不在主线程，在合成器线程渲染。</li></ul> <h2 id="bfc"><a href="#bfc" class="header-anchor">#</a> BFC</h2> <p>以下情况会创建BFC：</p> <ul><li>float浮动定位</li> <li>绝对定位absolute、fixed</li> <li>overflow不为visible</li></ul> <hr> <p>参考链接：</p> <ol><li><a href="https://juejin.cn/post/6844903779700047885" target="_blank" rel="noopener noreferrer">你真的了解回流和重绘吗<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <hr> <h2 id="js基础类型"><a href="#js基础类型" class="header-anchor">#</a> js基础类型</h2> <ul><li>BigInt：产生任意大的整数</li> <li>Symbol：代表独一无二的值，可以用来定义对象的唯一属性名</li></ul> <h2 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h2> <p>用来判断对象类型，不能判断基本类型；判断左边的对象是否为右边的实例对象，即判断左原型链上是否存在右边的原型上。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span>right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> leftVal <span class="token operator">=</span> left<span class="token punctuation">.</span><span class="token function">getPrototypeof</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> rightVal <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>leftVal <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>leftVal <span class="token operator">===</span> rightVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        leftVal <span class="token operator">=</span> leftVal<span class="token punctuation">.</span><span class="token function">getPrototypeof</span><span class="token punctuation">(</span>leftVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>此外，<code>Obeject.prototype.toString.call()</code>可以判断所有原始数据类型。</p> <p>扩展：如果判断变量是否为数组：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="手写深拷贝"><a href="#手写深拷贝" class="header-anchor">#</a> 手写深拷贝</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 初始化返回结果</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// || 后面方式Array的prototype被重写</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token operator">||</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 防止循环引用</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 保证key不是原型属性</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 递归调用</span>
            result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//返回结果</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="_0-1-0-2-0-3"><a href="#_0-1-0-2-0-3" class="header-anchor">#</a> 0.1 + 0.2 !== 0.3</h2> <p>因为JS在做数字计算的时候，0.1和0.2都会被转为二进制后无限循环，js采用的IEEE754二进制浮点计算，最大可以存储53位有效数字，后面的都会被截取，导致精度丢失。</p> <p>解决方法：</p> <ul><li>采用BigInt转成大数计算</li> <li>使用Number.EPSILON误差范围,它是一个可以接受的最小误差范围，一般来说是Math.pow(2,-52)</li></ul> <h2 id="原型与原型链"><a href="#原型与原型链" class="header-anchor">#</a> 原型与原型链</h2> <p>每个JavaScript对象在创建的时候，就会自动关联上另外一个对象，也就是原型，可以继承原型上的一些属性，即prototype对象；原型链则是创建的对象通过原型连接起来的一个结构。</p> <p>两个概念：</p> <ul><li><p>JS分为函数对象和普通对象，每个对象都有__proto__属性，但是只有函数对象才有prototype属性；</p></li> <li><p>Object、Function都是JS内置的函数，类似的还有常见的Array、RegExp、Data、Boolean、Number、String</p></li> <li><p>属性__proto__是一个对象，它有两个属性，constuctor和__proto__；</p></li> <li><p>原型对象prototype有一个默认的constructor属性，用于记录实例是哪个构造函数创建的。</p></li></ul> <p>两个准则：</p> <ol><li>原型对象（Person.prototype）的constuctor指向构造函数本身；<code>Person.prototype.constructor == Person</code></li> <li>实例（即person01）的__proto__和原型对象指向同一个地方；person01.<strong>proto</strong> == Person.prototype</li></ol> <h2 id="作用域与作用域链"><a href="#作用域与作用域链" class="header-anchor">#</a> 作用域与作用域链</h2> <h3 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h3> <p>JS采用的是静态作用域，所以函数的作用域在函数定义时就确定了。</p> <p>作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。ES6之前没有块级作用域，只有全局作用域和函数作用域。</p> <p>全局作用域：</p> <ul><li>最外层函数、最外层函数外面定义的变量；</li> <li>所有未定义直接赋值的变量自动声明为拥有全局作用域；</li> <li>所有window对象的属性拥有全局作用域。</li></ul> <p>缺点：如果定义的变量都没有用函数包括，全都会在全局作用域下，会污染全局命名空间，容易引起命名冲突。</p> <p>函数作用域：声明在函数内部的变量，和全局作用域相反，函数作用域一般只在固定的代码片段内可访问到，比如函数内部。</p> <p>作用域是分层的，内层作用域可以访问外层作用域的变量，反之则不行。</p> <p>块级作用域：通过const和let声明，创建方式：</p> <ul><li>在一个函数内部</li> <li>在一个代码块（由一对花括号包裹）内部。</li></ul> <p>for循环有一个特别之处：设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。</p> <h3 id="作用域链"><a href="#作用域链" class="header-anchor">#</a> 作用域链</h3> <p>自由变量：当前作用域没有定义的变量；它的值需要向父级作用域寻找。具体一点来说，要到创建这个函数的那个域去找，注意是创建，而不是调用，这就是所谓的静态作用域。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//10，而不是20</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>再来看一个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token comment">//30</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> bar
<span class="token punctuation">}</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  b <span class="token operator">=</span> <span class="token number">200</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//bar()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>fn()返回的是bar函数，赋值给x；执行x()，即执行bar函数代码。取b值，直接在fn作用域取出；去a值，在fn作用域取不到3，从创建fn的那个作用域查找，拿到10.</p> <h2 id="作用域与执行上下文"><a href="#作用域与执行上下文" class="header-anchor">#</a> 作用域与执行上下文</h2> <p>JavaScript属于解释性语言，JavaScript的执行分为：解释和执行两个阶段，这两个阶段所做的事并不一样：</p> <ul><li>解释阶段：</li> <li>执行阶段：</li></ul> <p>在解释阶段就已经确定了作用域规则，即函数定义的时候；而执行上下文是函数执行之前创建的。在执行上下文期间，this的指向是执行时确认的。</p> <p>因此一个作用域下可能包含多个上下文环境；有可能从来就没有上下文环境；有可能有过，现在函数被调用完毕后，上下文环境被销毁了；有可能同时存在一个或多个（闭包）。总之，同一个作用域下，不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值。</p> <h2 id="立即执行函数"><a href="#立即执行函数" class="header-anchor">#</a> 立即执行函数</h2> <p>立即执行函数常用于第三方库，可以用来隔离变量作用域，因为第三方库都会存在大量的变量和函数，为了避免变量污染。立即执行函数的代码，外部是无法访问的。因为在ES5的时候是没有块级作用域，立即执行函数它类似于函数声明，但是由于被包含在括号中，所以会被解释为函数表达式，紧跟在第一组括号后面的第二组括号会立即调用前面的函数表达式，就像是模拟的块级作用域。</p> <p>此外，它可以防止变量定义外泄，因为不存在对这个匿名函数的引用，函数执行完毕之后，它的作用域链就可以被销毁。</p> <p>常见的一个问题：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> liList <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 为什么 alert 出来的总是 6，而不是 0、1、2、3、4、5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>用户的点击一定是在for运行完了之后才点击的，此时候i为6；因为i是一个全局作用域的。那怎么解决呢？当然是给每个循环创建一个独立的作用域：</p> <ol><li>用立即执行函数给每个li创建一个独立作用域即可</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> liList <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ii</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      liList<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>ii<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>直接用let为每次循环创建子作用域</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> liList <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="观察者模式-发布-订阅模式"><a href="#观察者模式-发布-订阅模式" class="header-anchor">#</a> 观察者模式（发布-订阅模式）</h2> <p>思想：被观察对象（subject）维护一组观察者（observe），当被观察对象状态改变时，通过调用观察者的某个方法将这些变化通知到观察者。观察者模式一般需要实现：</p> <ul><li>subscribe():接收一个观察者observe对象，使其订阅自己</li> <li>unsubscribe()：接收一个观察者observe对象，使其取消订阅自己；</li> <li>fire():触发事件，通知到所有观察者。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Subject</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">subscribe</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">unsubscribe</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">observerToRemove</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> observer <span class="token operator">!==</span> observerToRemove<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fire</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>oberservers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">observer</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>Vue中的数据双向绑定就是通过观察者模式以及数据劫持实现的。首先通过ES5提供的Object.defineProperty()方法来劫持并监听各属性的getter和setter，并在监听的属性发生变动时候通知订阅者，是否需要更新，若更新的话就会执行对应的更新函数。</p> <p>Vue3新特性：支持树摇；新增了setup生命周期函数，在beforeCreate之前执行；Proxy进行数据劫持；</p> <p>比如说表单的v-model可以实现数据的双向绑定，<code>&lt;input v-model=&quot;xxx&quot;&gt;</code>,原理是`&lt;input :value='xxx' @input='xxx=$event.target.value'&gt;</p></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/7f0b96/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">CSS选择器的优先级</div></a> <a href="/pages/c8f128/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">CSS教程和技巧收藏</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/7f0b96/" class="prev">CSS选择器的优先级</a></span> <span class="next"><a href="/pages/c8f128/">CSS教程和技巧收藏</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/d1d1fa/"><div>
            常用命令学习
            <!----></div></a> <span class="date">08-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2901bd/"><div>
            SQLite入门
            <!----></div></a> <span class="date">07-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/dev/c2047a/"><div>
            JetBrains错误集合
            <!----></div></a> <span class="date">07-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://mail.qq.com/" title="QQ邮箱" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/hongzhangfa" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.bilibili.com/" title="小破站" target="_blank" class="iconfont icon-bilibili"></a><a href="https://music.163.com/#/" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Mr.Fa | 本博客仅作为个人日常学习记录笔记使用<br> <a href="http://beian.miit.gov.cn/" target="_blank"></a><a href="/sitemap.xml">sitemap</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><!----><div></div></div></div>
    <script src="/assets/js/app.48fd9870.js" defer></script><script src="/assets/js/2.f277449b.js" defer></script><script src="/assets/js/37.70763a07.js" defer></script><script src="/assets/js/4.c1a5692b.js" defer></script><script src="/assets/js/8.3b904238.js" defer></script><script src="/assets/js/14.28d7c741.js" defer></script>
  </body>
</html>
